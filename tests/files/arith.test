add
----
.entry main

main:
    push 1
    push 2
    add
    push 1
    ret
----
ok
stack [3, 1]

panic
----
.entry main

main:
    panic
    ret
----
error

print
----
.entry main

.data message .string "Hello, World!\n"

#define STDOUT 1
#define WRITE 4

print:
    push @STDOUT
    load.d 0
    load.d 2
    push @WRITE
    system
    ret

main:
    dataptr message
    push.d sizeof message
    call print
    ret
----
ok
stdout
Hello, World!
----
